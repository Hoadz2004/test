<div class="grade-container">
    <mat-card>
        <mat-card-header>
            <mat-card-title>
                <mat-icon color="primary">school</mat-icon> Bảng Điểm Cá Nhân
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table mat-table [dataSource]="grades" class="mat-elevation-z8">

                <!-- Mã Lớp Column -->
                <ng-container matColumnDef="maLHP">
                    <th mat-header-cell *matHeaderCellDef> Mã Lớp </th>
                    <td mat-cell *matCellDef="let element"> {{element.maLHP}} </td>
                </ng-container>

                <!-- Tên HP Column -->
                <ng-container matColumnDef="tenHP">
                    <th mat-header-cell *matHeaderCellDef> Tên Học Phần </th>
                    <td mat-cell *matCellDef="let element">
                        <strong>{{element.tenHP}}</strong> <br>
                        <small>{{element.tenHK}}</small>
                    </td>
                </ng-container>

                <!-- TC Column -->
                <ng-container matColumnDef="soTinChi">
                    <th mat-header-cell *matHeaderCellDef> TC </th>
                    <td mat-cell *matCellDef="let element"> {{element.soTinChi}} </td>
                </ng-container>

                <!-- Điểm QT -->
                <ng-container matColumnDef="diemQT">
                    <th mat-header-cell *matHeaderCellDef> QT (10%) </th>
                    <td mat-cell *matCellDef="let element"> {{element.diemQT}} </td>
                </ng-container>

                <!-- Điểm GK -->
                <ng-container matColumnDef="diemGK">
                    <th mat-header-cell *matHeaderCellDef> GK (20%) </th>
                    <td mat-cell *matCellDef="let element"> {{element.diemGK}} </td>
                </ng-container>

                <!-- Điểm CK -->
                <ng-container matColumnDef="diemCK">
                    <th mat-header-cell *matHeaderCellDef> CK (70%) </th>
                    <td mat-cell *matCellDef="let element">
                        <strong>{{element.diemCK}}</strong>
                    </td>
                </ng-container>

                <!-- Điểm TK -->
                <ng-container matColumnDef="diemTK">
                    <th mat-header-cell *matHeaderCellDef> Tổng Kết </th>
                    <td mat-cell *matCellDef="let element">
                        <span style="font-weight: bold; color: #1976d2">{{element.diemTK}}</span>
                    </td>
                </ng-container>

                <!-- Điểm Chữ -->
                <ng-container matColumnDef="diemChu">
                    <th mat-header-cell *matHeaderCellDef> Chữ </th>
                    <td mat-cell *matCellDef="let element"> {{element.diemChu}} </td>
                </ng-container>

                <!-- Kết Quả -->
                <ng-container matColumnDef="ketQua">
                    <th mat-header-cell *matHeaderCellDef> Kết Quả </th>
                    <td mat-cell *matCellDef="let element" [style.color]="getStatusColor(element.ketQua)">
                        {{element.ketQua}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <div *ngIf="grades.length === 0" style="padding: 20px; text-align: center;">
                <p>Chưa có dữ liệu điểm.</p>
            </div>
        </mat-card-content>
    </mat-card>
</div>